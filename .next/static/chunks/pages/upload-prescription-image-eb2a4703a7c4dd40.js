(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[627],{95863:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/upload-prescription-image",function(){return c(5388)}])},56045:function(a,b,c){"use strict";var d=c(34727),e=c(34051),f=c.n(e),g=c(85893),h=c(67294),i=c(77220),j=c(84221),k=c(33713),l=c(48641),m=c(83234),n=c(57026),o=c(47741);b.Z=function(a){var b=a.isOpen,c=a.onClose,e=a.setSelectedDeliveryCost,p=a.setSelectedCourier,q=(0,h.useState)(""),r=q[0],s=q[1],t=(0,h.useState)(""),u=t[0],v=t[1],w=(0,h.useState)([]),x=w[0],y=w[1],z=(0,j.pm)();(0,h.useEffect)(function(){r&&D()},[r]);var A,B=function(a){s(a.target.value)},C=function(a){v(a.target.value)},D=(A=(0,d.Z)(f().mark(function b(){var c,d,e,g,h;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,c="153",d=a.destination,e=1e3,g=r,b.next=7,i.default.get("rajaongkir/ongkos/".concat(c,"/").concat(d,"/").concat(e,"/").concat(g));case 7:y((h=b.sent).data.rajaongkir.results[0].costs),b.next=14;break;case 11:b.prev=11,b.t0=b.catch(0),console.log(b.t0.message);case 14:case"end":return b.stop()}},b,null,[[0,11]])})),function(){return A.apply(this,arguments)});return(0,g.jsxs)(k.u_,{isOpen:b,onClose:c,children:[(0,g.jsx)(k.ZA,{}),(0,g.jsxs)(k.hz,{backgroundColor:"white",padding:5,maxWidth:600,children:[(0,g.jsx)(k.xB,{fontWeight:600,fontSize:19,children:"Pilih Jenis Pengiriman"}),(0,g.jsx)(k.ol,{}),(0,g.jsx)(k.fe,{children:(0,g.jsxs)(l.gC,{align:"start",fontSize:15,fontWeight:500,children:[(0,g.jsx)(l.gC,{children:(0,g.jsxs)(m.NI,{children:[(0,g.jsx)(m.lX,{fontSize:"sm",children:"Kurir Pengiriman"}),(0,g.jsxs)(n.Ph,{_focusVisible:!0,name:"courier",fontSize:{base:"13",md:"14"},fontWeight:400,placeholder:"Pilih Kurir",variant:"filled",width:510,onChange:B,children:[(0,g.jsx)("option",{value:"jne",children:"JNE"}),(0,g.jsx)("option",{value:"tiki",children:"TIKI"}),(0,g.jsx)("option",{value:"pos",children:"POS Indonesia"})]})]})}),(0,g.jsx)(l.gC,{paddingTop:3,children:(0,g.jsxs)(m.NI,{children:[(0,g.jsx)(m.lX,{fontSize:"sm",children:"Jenis Pengiriman"}),(0,g.jsx)(n.Ph,{_focusVisible:!0,name:"deliveryCost",fontSize:14,fontWeight:400,placeholder:"Pilih Jenis Pengiriman",variant:"filled",width:510,onChange:C,children:x.map(function(a){return(0,g.jsx)("option",{value:"".concat(a.service,",").concat(a.cost[0].value),children:"".concat(a.description," (").concat(a.service,"), Biaya Pengiriman: ").concat(a.cost[0].value)},a.service)})})]})})]})}),(0,g.jsx)(k.mz,{children:(0,g.jsx)(o.zx,{height:9,fontSize:15,fontWeight:500,colorScheme:"messenger",onClick:function(){p(r),e(u),z({description:"Select Delivery Method Success",position:"top",status:"success",duration:3e3,isClosable:!0}),c()},children:"Submit"})})]})]})}},38644:function(a,b,c){"use strict";var d=c(34727),e=c(34051),f=c.n(e),g=c(85893),h=c(3382),i=c(33299),j=c(77220),k=c(48641),l=c(47741),m=c(33713),n=c(67294),o=c(55573);b.Z=function(a){var b,c=a.isOpen,e=a.onClose,p=a.userAllAddress,q=a.chooseAddress,r=(0,n.useState)(p),s=r[0],t=r[1],u=(0,n.useState)(!1),v=u[0],w=u[1],x=(0,n.useState)(""),y=x[0],z=x[1],A=(0,n.useState)(""),B=A[0],C=A[1],D=(0,n.useState)(""),E=D[0],F=D[1],G=(0,n.useState)(""),H=G[0],I=G[1];(0,n.useEffect)(function(){K()},[]),(0,n.useEffect)(function(){},[y,B,E,H,]);var J,K=(b=(0,d.Z)(f().mark(function a(){var b,c,d,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,i.getSession)();case 3:if(b=a.sent){a.next=6;break}return a.abrupt("return",{redirect:{destination:"/login"}});case 6:return c=b.user.user_token,d={headers:{Authorization:"Bearer ".concat(c)}},a.next=10,j.default.get("/addresses/useraddresslists",d);case 10:t((e=a.sent).data.data),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log({error:a.t0});case 17:case"end":return a.stop()}},a,null,[[0,14]])})),function(){return b.apply(this,arguments)});return(0,g.jsxs)(m.u_,{isOpen:c,onClose:e,children:[(0,g.jsx)(m.ZA,{}),(0,g.jsxs)(m.hz,{backgroundColor:"white",paddingTop:{md:"4"},paddingBottom:{md:"9"},paddingX:{md:"5"},maxWidth:500,children:[(0,g.jsx)(m.xB,{fontWeight:600,fontSize:{base:"16",md:"19"},children:"Pilih Alamat"}),(0,g.jsx)(m.ol,{margin:5}),(0,g.jsx)(m.fe,{children:(0,g.jsx)(k.gC,{children:(J=e,s.map(function(a){return(0,g.jsxs)(k.Ug,{children:[(0,g.jsx)(l.zx,{height:"auto",width:"45",bgColor:"white",_hover:"white",children:(0,g.jsx)(k.xu,{paddingY:2,paddingLeft:2,border:"2px",borderColor:"gray.300",borderRadius:"md",width:390,onClick:function(){q(a),J()},children:(0,g.jsx)(k.Ug,{children:(0,g.jsxs)(k.gC,{align:"start",fontWeight:500,fontSize:13,color:"gray.600",width:320,children:[(0,g.jsxs)(k.xv,{children:["Penerima: ",a.recipient]}),(0,g.jsx)(k.xv,{children:a.addressDetail}),(0,g.jsxs)(k.xv,{children:[a.city_name,", ",a.province,", ",a.postalCode]})]})})},a.address_id)}),(0,g.jsxs)(l.zx,{height:4,width:4,colorScheme:"white",variant:"solid",size:"xxs",onClick:function(){z(a.address_id),C(a.addressDetail),F(a.recipient),I(a.postalCode),w(!0)},children:[(0,g.jsx)(h.dY,{w:4,h:4,color:"#004776",marginRight:6}),(0,g.jsx)(o.Z,{isOpen:v,onClose:function(){return w(!1)},address_id:y,editAddressDetail:B,editRecipient:E,editPostalCode:H,RenderUserAddresses:K})]})]},a.address_id)}))})})]})]})}},5388:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return C}});var d=c(34727),e=c(34051),f=c.n(e),g=c(85893),h=c(67294),i=c(33299),j=c(77220);c(2067);var k=c(56556),l=c(39653),m=c(84221),n=c(48641),o=c(43699),p=c(47741),q=c(53749),r=c(41664),s=c.n(r),t=c(25675),u=c.n(t),v=c(39499),w=c(12703),x=c(11163),y=c(3382),z=c(25301),A=c(56045),B=c(38644),C=!0;b.default=function(a){var b=(0,x.useRouter)(),c=(0,h.useState)({}),e=c[0],r=c[1],t=(0,h.useState)(a.prescription),C=t[0];t[1];var D=(0,h.useState)(a.userAllAddress),E=D[0];D[1];var F=(0,h.useState)(a.defaultAddress),G=F[0],H=F[1],I=(0,h.useState)(),J=I[0],K=I[1],L=(0,h.useState)(),M=L[0],N=L[1],O=(0,h.useState)(!1),P=O[0],Q=O[1],R=(0,h.useState)(!1),S=R[0],T=R[1],U=(0,l.qY)(),V=U.isOpen,W=U.onOpen,X=U.onClose,Y=(0,h.useState)({prescriptionImage:""});Y[0],Y[1];var Z=(0,h.useState)(""),$=Z[0],_=Z[1],aa=(0,h.useState)(v.api_origin+"/public/prescriptionImage/default-prescription-image.png"),ab=aa[0],ac=aa[1],ad=(0,m.pm)();(0,h.useEffect)(function(){aj()},[]);var ae,af,ag,ah,ai=function(a){H(a)},aj=(ae=(0,d.Z)(f().mark(function a(){var b,c,d,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,i.getSession)();case 3:if(b=a.sent){a.next=6;break}return a.abrupt("return",{redirect:{destination:"/login"}});case 6:return c=b.user.user_token,d={headers:{Authorization:"Bearer ".concat(c)}},a.next=10,j.default.get("/addresses/userdefaultaddress",d);case 10:H((e=a.sent).data.data),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log({error:a.t0});case 17:case"end":return a.stop()}},a,null,[[0,14]])})),function(){return ae.apply(this,arguments)}),ak=function(a){r(a.target.files[0]),ac(URL.createObjectURL(a.target.files[0])),_(a.target.files[0].name)},al=(af=(0,d.Z)(f().mark(function a(){var c,d,g,h,k,l,m,n,o,p;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,i.getSession)();case 3:return d=(c=a.sent).user.user_token,h=parseInt((g=M.split(","))[1]),k=new FormData,l={address_id:G.address_id,courier:J,deliveryCost:h,imageName:$},k.append("prescriptionImage",e),m={headers:{Authorization:"Bearer ".concat(d)}},a.next=13,j.default.post("/transactions/uploadPrescriptionImage",l,m);case 13:return o=(n=a.sent).data.data.prescriptionImageName,a.next=17,j.default.post("/transactions/createPrescriptionTransaction/".concat(o),k,m);case 17:p=a.sent,ad({description:n.data.message,position:"top",status:"success",duration:3e3,isClosable:!0}),setTimeout(function(){b.replace("/")},1e3),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(0),console.log({Error:Error}),ad({description:"Resep Dokter, Alamat, dan Kurir Tidak Boleh Kosong",position:"top",status:"error",duration:3e3,isClosable:!0});case 26:case"end":return a.stop()}},a,null,[[0,22]])})),function(){return af.apply(this,arguments)});return(0,g.jsxs)(o.xjn,{theme:w.Z,children:[(0,g.jsx)(k.Z,{}),C.resFetchTransactions[0]?(0,g.jsxs)(n.gC,{marginTop:"18vH",children:[(0,g.jsx)(u(),{src:"/uploadPrescriptionImage/validation.png",width:250,height:250}),(0,g.jsx)(n.gC,{children:(0,g.jsx)(n.xv,{marginTop:2,fontSize:17,fontWeight:500,children:"Resep sedang divalidasi"})})]}):(0,g.jsxs)(n.Ug,{children:[(0,g.jsx)(n.xu,{width:"120vH",boxShadow:"md",marginTop:4,marginLeft:101,marginRight:2,rounded:"md",padding:6,children:(0,g.jsxs)(n.gC,{children:[(0,g.jsxs)(n.Ug,{marginBottom:2,fontSize:"15",alignSelf:"start",children:[(0,g.jsx)(s(),{href:"/",children:(0,g.jsx)(n.rU,{children:(0,g.jsx)(n.xv,{color:"#B7B7B7",paddingRight:3,children:"Beranda"})})}),(0,g.jsx)(u(),{src:"/uploadPrescriptionImage/next.png",width:5,height:9}),(0,g.jsx)(n.xv,{color:"#008DEB",paddingLeft:.5,children:"Unggah Resep"})]}),(0,g.jsx)(n.xv,{alignSelf:"start",fontSize:"17",fontWeight:"600",children:"Unggah Resep Dokter"}),(0,g.jsxs)(n.gC,{children:[(0,g.jsx)(u(),{src:ab,width:235,height:235}),(0,g.jsx)(n.gC,{paddingLeft:"89",paddingTop:1,fontSize:12.5,pb:1,children:(0,g.jsx)("input",{type:"file",onChange:ak})}),(0,g.jsx)(n.gC,{children:(0,g.jsx)(n.xv,{fontSize:"16",fontWeight:"500",marginTop:3,children:"Cara Unggah Resep Dokter"})}),(0,g.jsxs)(n.Ug,{paddingTop:2,children:[(0,g.jsxs)(n.gC,{width:220,fontSize:12,textAlign:"center",paddingRight:10,children:[(0,g.jsx)(u(),{src:"/uploadPrescriptionImage/upload-prescription.png",width:60,height:60}),(0,g.jsxs)(n.gC,{paddingTop:2,children:[(0,g.jsx)(n.xv,{fontWeight:600,children:"1. Unggah Resep"}),(0,g.jsx)(n.xv,{children:"Foto resep yang ditulis oleh dokter anda, kemudian unggah pada form di atas."})]})]}),(0,g.jsxs)(n.gC,{width:180,fontSize:12,textAlign:"center",paddingTop:1.5,paddingRight:5,children:[(0,g.jsx)(u(),{src:"/uploadPrescriptionImage/waiting-for-validation.png",width:52,height:48}),(0,g.jsx)(n.gC,{paddingTop:3,children:(0,g.jsx)(n.xv,{fontWeight:600,children:"2. Menunggu Validasi"})}),(0,g.jsx)(n.xv,{children:"Tim kami akan mengecek ketersediaan obat sesuai resep."})]}),(0,g.jsxs)(n.gC,{width:220,fontSize:12,textAlign:"center",paddingLeft:5,children:[(0,g.jsx)(u(),{src:"/uploadPrescriptionImage/delivery.png",width:60,height:60}),(0,g.jsxs)(n.gC,{paddingTop:2,children:[(0,g.jsx)(n.xv,{fontWeight:600,children:"3. Lakukan Pembayaran"}),(0,g.jsx)(n.xv,{children:"Segera lakukan pembayaran agar kami dapat memproses obat anda."})]})]}),(0,g.jsxs)(n.gC,{width:180,fontSize:12,textAlign:"center",paddingLeft:8,children:[(0,g.jsx)(u(),{src:"/uploadPrescriptionImage/payment.png",width:64,height:64}),(0,g.jsxs)(n.gC,{children:[(0,g.jsx)(n.xv,{fontWeight:600,children:"4. Obat Diantar"}),(0,g.jsx)(n.xv,{children:"Kami akan segera mengirimkan obat yang anda pesan."})]})]})]})]})]})}),(0,g.jsxs)(n.gC,{alignSelf:"start",children:[(0,g.jsxs)(n.xu,{width:"60vH",boxShadow:"md",marginTop:4,rounded:"md",padding:6,children:[(0,g.jsx)(n.xv,{fontWeight:600,children:"Alamat Pengiriman"}),G?(0,g.jsxs)(n.gC,{align:"start",marginTop:5,children:[(0,g.jsxs)(n.xv,{fontWeight:500,fontSize:15,color:"gray.600",children:["Penerima: ",G.recipient]}),(0,g.jsx)(n.xv,{fontWeight:500,fontSize:15,color:"gray.600",children:G.addressDetail}),(0,g.jsxs)(n.xv,{fontWeight:500,fontSize:15,color:"gray.600",children:[G.city_name,", ",G.province,","," ",G.postalCode]}),E?(0,g.jsx)(n.gC,{children:(0,g.jsxs)(p.zx,{marginTop:3,bgColor:"white",_hover:"white",size:"xxl",variant:"solid",color:"#1068A3",fontSize:13,onClick:function(){return Q(!0)},children:["Pilih alamat lain",(0,g.jsx)(B.Z,{isOpen:P,onClose:function(){return Q(!1)},userAllAddress:E,chooseAddress:ai,RenderUserAddresses:aj})]})}):null]}):(0,g.jsxs)(n.gC,{align:"start",marginTop:5,children:[(0,g.jsx)(n.xv,{fontWeight:500,fontSize:15,color:"gray.600",children:"Belum ada alamat"}),(0,g.jsx)(n.gC,{align:"start",paddingTop:3,children:(0,g.jsxs)(p.zx,{bgColor:"white",_hover:"white",size:"xxl",variant:"solid",color:"#1068A3",fontSize:13,onClick:W,children:[(0,g.jsx)(y.dt,{w:2.5,h:2.5,color:"#004776"}),(0,g.jsx)(n.xv,{paddingLeft:1.5,paddingTop:.3,children:"Tambahkan Alamat Baru"}),(0,g.jsx)(z.Z,{isOpen:V,onClose:X,RenderUserAddresses:aj})]})})]})]}),(0,g.jsxs)(n.xu,{width:"60vH",boxShadow:"md",rounded:"md",padding:6,children:[(0,g.jsx)(n.xv,{fontWeight:600,children:"Metode Pengiriman"}),(0,g.jsx)(n.Ug,{marginY:6,children:(0,g.jsxs)(p.zx,{bgColor:"white",_hover:"white",size:"xxl",variant:"solid",color:"#1068A3",fontSize:13,onClick:function(){return T(!0)},children:[(0,g.jsx)(n.xv,{paddingTop:.3,children:"Pilih Metode Pengiriman"}),(0,g.jsx)(A.Z,{isOpen:S,onClose:function(){return T(!1)},destination:null==G?void 0:G.city_id,setSelectedDeliveryCost:N,setSelectedCourier:K})]})}),(0,g.jsx)(n.xv,{fontWeight:600,children:"Ringkasan Pembayaran"}),(0,g.jsx)(n.Ug,{justifyContent:"space-between",marginTop:4,marginBottom:2,children:(0,g.jsx)(n.Ug,{children:(0,g.jsx)(n.xv,{children:M&&(ag=parseInt(M.split(",")[1]).toLocaleString("id"),(0,g.jsxs)(n.Ug,{fontWeight:500,fontSize:15,justify:"space-between",minWidth:380,children:[(0,g.jsxs)(n.Ug,{color:"gray.600",children:[(0,g.jsx)(n.xv,{children:"Biaya Pengiriman :"}),";",(0,g.jsx)(n.xv,{children:M&&(M.split(","),ah="".concat(J.toUpperCase()),(0,g.jsx)(n.xv,{children:ah}))}),";"]}),(0,g.jsx)(n.Ug,{fontWeight:600,children:(0,g.jsxs)(n.xv,{children:["Rp ",ag]})})]}))})})}),(0,g.jsx)(u(),{src:"/profile/line.png",width:400,height:1.5}),(0,g.jsx)(n.gC,{align:"start",marginTop:"5",children:(0,g.jsx)(n.xv,{fontWeight:600,fontSize:15,children:"Metode Pembayaran"})}),(0,g.jsx)(n.gC,{align:"start",marginTop:"2",children:(0,g.jsx)(q.XZ,{fontWeight:500,color:"gray.600",size:"sm",children:"Transfer Bank BCA"})}),(0,g.jsx)(n.gC,{marginTop:8,children:(0,g.jsx)(p.zx,{fontSize:13,color:"white",colorScheme:"messenger",fontWeight:500,width:250,onClick:al,children:"Lanjutkan Pembayaran"})})]})]})]})]})}}},function(a){a.O(0,[357,675,228,706,478,382,397,570,774,888,179],function(){var b;return a(a.s=95863)}),_N_E=a.O()}])